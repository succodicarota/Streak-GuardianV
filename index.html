<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#10B981">
    <meta name="description" content="Il tuo compagno digitale per superare le dipendenze">
    
    <title>Streak Guardian</title>
    
    <!-- Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;700;800&family=Inter:wght@400;500;600&family=DM+Sans:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Streak Guardian">
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/dark-mode.css">
</head>
<body>
    
    <!-- ONBOARDING FLOW -->
    <div id="onboarding-container" class="page-container" style="display: none;">
        
        <!-- Step 1: Welcome -->
        <div id="onboarding-step-1" class="onboarding-step">
            <div class="onboarding-content">
                <div class="welcome-emoji">ğŸ‘‹</div>
                <h1 class="onboarding-title">Benvenuto in<br>Streak Guardian</h1>
                <p class="onboarding-text">
                    Il tuo compagno digitale nel percorso per superare una dipendenza.
                </p>
                <p class="onboarding-text">
                    PiÃ¹ giorni resisti, piÃ¹ il tuo compagno cresce e si evolve insieme a te.
                </p>
                <button class="btn-primary btn-large" onclick="nextOnboardingStep(2)">
                    Inizia il viaggio â†’
                </button>
            </div>
        </div>
        
        <!-- Step 2: Choose Addiction -->
        <div id="onboarding-step-2" class="onboarding-step" style="display: none;">
            <div class="onboarding-content">
                <h2 class="onboarding-title">Quale dipendenza vuoi affrontare?</h2>
                <p class="onboarding-subtitle">Scegli quella che senti piÃ¹ importante per te</p>
                
                <div class="addiction-grid">
                    <!-- Behavioral Addictions -->
                    <div class="addiction-category">
                        <h3 class="category-title">ğŸ“± Comportamentali</h3>
                        <button class="addiction-card" onclick="selectAddiction('social-media')">
                            <span class="addiction-icon">ğŸ“±</span>
                            <span class="addiction-name">Social Media</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('gaming')">
                            <span class="addiction-icon">ğŸ®</span>
                            <span class="addiction-name">Gaming</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('shopping')">
                            <span class="addiction-icon">ğŸ›’</span>
                            <span class="addiction-name">Shopping</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('pornography')">
                            <span class="addiction-icon">ğŸ”</span>
                            <span class="addiction-name">Pornografia</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('procrastination')">
                            <span class="addiction-icon">â°</span>
                            <span class="addiction-name">Procrastinazione</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('gambling')">
                            <span class="addiction-icon">ğŸ°</span>
                            <span class="addiction-name">Gambling</span>
                        </button>
                    </div>
                    
                    <!-- Substance Addictions -->
                    <div class="addiction-category">
                        <h3 class="category-title">ğŸ· Sostanze</h3>
                        <button class="addiction-card" onclick="selectAddiction('smoking')">
                            <span class="addiction-icon">ğŸš¬</span>
                            <span class="addiction-name">Fumo</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('alcohol')">
                            <span class="addiction-icon">ğŸ·</span>
                            <span class="addiction-name">Alcol</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('cannabis')">
                            <span class="addiction-icon">ğŸŒ¿</span>
                            <span class="addiction-name">Cannabis</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('drugs')">
                            <span class="addiction-icon">ğŸ’Š</span>
                            <span class="addiction-name">Droghe</span>
                        </button>
                    </div>
                    
                    <!-- Food & Health -->
                    <div class="addiction-category">
                        <h3 class="category-title">ğŸ” Cibo & Salute</h3>
                        <button class="addiction-card" onclick="selectAddiction('binge-eating')">
                            <span class="addiction-icon">ğŸ”</span>
                            <span class="addiction-name">Abbuffate</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('sugar')">
                            <span class="addiction-icon">ğŸ­</span>
                            <span class="addiction-name">Zucchero</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('caffeine')">
                            <span class="addiction-icon">â˜•</span>
                            <span class="addiction-name">Caffeina</span>
                        </button>
                    </div>
                    
                    <!-- Other -->
                    <div class="addiction-category">
                        <h3 class="category-title">ğŸ’… Altro</h3>
                        <button class="addiction-card" onclick="selectAddiction('skin-picking')">
                            <span class="addiction-icon">ğŸ’…</span>
                            <span class="addiction-name">Skin Picking</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('nail-biting')">
                            <span class="addiction-icon">ğŸ’…</span>
                            <span class="addiction-name">Unghie</span>
                        </button>
                        <button class="addiction-card" onclick="selectAddiction('toxic-relationship')">
                            <span class="addiction-icon">ğŸ’”</span>
                            <span class="addiction-name">Relazione tossica</span>
                        </button>
                    </div>
                    
                    <!-- Custom -->
                    <div class="addiction-category">
                        <button class="addiction-card addiction-custom" onclick="customAddiction()">
                            <span class="addiction-icon">âœï¸</span>
                            <span class="addiction-name">Altro (scrivi tu)</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 3: Choose Companion Type -->
        <div id="onboarding-step-3" class="onboarding-step" style="display: none;">
            <div class="onboarding-content">
                <h2 class="onboarding-title">Scegli il tuo compagno</h2>
                <p class="onboarding-subtitle">CrescerÃ  con te durante il tuo percorso</p>
                
                <div class="companion-selection">
                    <div class="companion-card" onclick="selectCompanion('plant')">
                        <div class="companion-card-icon">ğŸŒ±</div>
                        <div class="companion-card-title">PIANTA</div>
                        <div class="companion-card-description">Crescita lenta e costante</div>
                        <div class="companion-card-detail">
                            Perfetto per chi vede il recupero come mettere radici profonde
                        </div>
                        <div class="companion-card-evolution">
                            ğŸŒ± â†’ ğŸŒ¿ â†’ ğŸŒ³
                        </div>
                    </div>
                    
                    <div class="companion-card" onclick="showAnimalSelection()">
                        <div class="companion-card-icon">ğŸ¥š</div>
                        <div class="companion-card-title">ANIMALE</div>
                        <div class="companion-card-description">Un compagno che cresce con te</div>
                        <div class="companion-card-detail">
                            Scegli tra 4 creature leali
                        </div>
                        <div class="companion-card-evolution">
                            ğŸ¥š â†’ ğŸ¾ â†’ â¤ï¸
                        </div>
                    </div>
                    
                    <div class="companion-card" onclick="selectCompanion('flame')">
                        <div class="companion-card-icon">ğŸ”¥</div>
                        <div class="companion-card-title">FIAMMA</div>
                        <div class="companion-card-description">Forza e rinascita interiore</div>
                        <div class="companion-card-detail">
                            Perfetto per chi affronta il percorso come una battaglia
                        </div>
                        <div class="companion-card-evolution">
                            âœ¨ â†’ ğŸ”¥ â†’ â­
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 3b: Choose Animal Subtype (hidden initially) -->
        <div id="onboarding-step-3b" class="onboarding-step" style="display: none;">
            <div class="onboarding-content">
                <h2 class="onboarding-title">Che tipo di animale?</h2>
                <p class="onboarding-subtitle">Il tuo uovo si schiuderÃ  in...</p>
                
                <div class="companion-selection">
                    <div class="companion-card" onclick="selectCompanion('cat')">
                        <div class="companion-card-icon">ğŸ±</div>
                        <div class="companion-card-title">GATTO</div>
                        <div class="companion-card-description">Indipendente e fiero</div>
                        <div class="companion-card-detail">
                            Sempre al tuo fianco con discrezione
                        </div>
                        <div class="companion-card-evolution">
                            ğŸ¥š â†’ ğŸ± â†’ ğŸˆ
                        </div>
                    </div>
                    
                    <div class="companion-card" onclick="selectCompanion('dog')">
                        <div class="companion-card-icon">ğŸ¶</div>
                        <div class="companion-card-title">CANE</div>
                        <div class="companion-card-description">Fedele e protettivo</div>
                        <div class="companion-card-detail">
                            La lealtÃ  fatta creatura
                        </div>
                        <div class="companion-card-evolution">
                            ğŸ¥š â†’ ğŸ¶ â†’ ğŸ•
                        </div>
                    </div>
                    
                    <div class="companion-card" onclick="selectCompanion('bird')">
                        <div class="companion-card-icon">ğŸ¦</div>
                        <div class="companion-card-title">UCCELLO</div>
                        <div class="companion-card-description">Libero e visionario</div>
                        <div class="companion-card-detail">
                            Vede le cose dall'alto
                        </div>
                        <div class="companion-card-evolution">
                            ğŸ¥š â†’ ğŸ£ â†’ ğŸ¦…
                        </div>
                    </div>
                    
                    <div class="companion-card" onclick="selectCompanion('dragon')">
                        <div class="companion-card-icon">ğŸ‰</div>
                        <div class="companion-card-title">DRAGO</div>
                        <div class="companion-card-description">Leggendario e potente</div>
                        <div class="companion-card-detail">
                            Guardiano ancestrale
                        </div>
                        <div class="companion-card-evolution">
                            ğŸ¥š â†’ ğŸ¦ â†’ ğŸ‰
                        </div>
                    </div>
                </div>
                
                <button class="btn-secondary" onclick="nextOnboardingStep(3)" style="margin-top: 20px;">
                    â† Torna indietro
                </button>
            </div>
        </div>
        
        <!-- Step 4: Name Companion -->
        <div id="onboarding-step-4" class="onboarding-step" style="display: none;">
            <div class="onboarding-content">
                <div class="celebration-emoji">ğŸ‰</div>
                <h2 class="onboarding-title">Perfetto!</h2>
                <p class="onboarding-text">
                    Come vuoi chiamare il tuo compagno?
                </p>
                
                <input 
                    type="text" 
                    id="companion-name-input" 
                    class="input-large" 
                    placeholder="Es: Max, Verde, Phoenix..."
                    maxlength="20"
                />
                <div class="input-hint">Puoi cambiarlo in seguito dalle impostazioni</div>
                
                <button class="btn-primary btn-large" onclick="completeOnboarding()">
                    Conferma e inizia â†’
                </button>
            </div>
        </div>
    </div>
    
    <!-- MAIN APP -->
    <div id="app-container" class="page-container" style="display: none;">
        
        <!-- HOME PAGE -->
        <div id="home-page" class="app-page">
            <div class="home-container">
                <!-- Companion Section -->
                <div class="companion-section">
                    <div class="companion-emoji" id="companion-emoji">ğŸŒ±</div>
                    <div class="companion-name" id="companion-display-name">ğŸŒ± Il tuo compagno</div>
                </div>
                
                <!-- Streak Section -->
                <div class="streak-section">
                    <div class="streak-counter" id="streak-counter">ğŸ”¥ 0 giorni pulito</div>
                    <div class="evolution-text" id="evolution-text">Inizia il tuo viaggio oggi!</div>
                </div>
                
                <!-- Check-in Section -->
                <div class="checkin-section" id="checkin-section">
                    <div class="checkin-card">
                        <div class="checkin-greeting" id="checkin-greeting">â˜€ï¸ Buongiorno!</div>
                        <div class="checkin-question">Come Ã¨ andata oggi?</div>
                        <button class="btn-success btn-checkin" onclick="checkInSuccess()">
                            âœ… Non ho ceduto
                        </button>
                        <button class="btn-danger-outline btn-checkin" onclick="checkInFailed()">
                            âŒ Ho ceduto
                        </button>
                    </div>
                </div>
                
                <!-- Already checked in -->
                <div class="already-checkedin" id="already-checkedin" style="display: none;">
                    <div class="checkedin-card">
                        <div class="checkedin-icon">âœ…</div>
                        <div class="checkedin-title">Check-in fatto!</div>
                        <div class="checkedin-text">Torna domani per continuare la tua streak ğŸ’ª</div>
                    </div>
                </div>
                
                <!-- SOS Button (always visible) -->
                <div class="sos-section">
                    <button class="sos-button" onclick="openSOS()">
                        <span class="sos-icon">ğŸ†˜</span>
                        <span class="sos-text">Sto per cedere</span>
                        <span class="sos-subtext">Aiutami ora</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- STATS PAGE -->
        <div id="stats-page" class="app-page" style="display: none;">
            <div class="stats-container">
                <h1 class="page-title">ğŸ“Š Le tue statistiche</h1>
                
                <!-- Your Journey -->
                <div class="stats-section">
                    <h2 class="section-title">ğŸ”¥ Il tuo percorso</h2>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Streak corrente</div>
                            <div class="stat-value" id="current-streak">0 giorni</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Streak piÃ¹ lunga</div>
                            <div class="stat-value" id="longest-streak">0 giorni ğŸ†</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Data inizio</div>
                            <div class="stat-value" id="start-date">-</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Momenti SOS superati</div>
                            <div class="stat-value" id="sos-count">0 ğŸ’ª</div>
                        </div>
                    </div>
                </div>
                
                <!-- Last 30 Days Calendar -->
                <div class="stats-section">
                    <h2 class="section-title">ğŸ“… Ultimi 30 giorni</h2>
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <span>L</span><span>M</span><span>M</span><span>G</span><span>V</span><span>S</span><span>D</span>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Will be populated by JS -->
                        </div>
                        <div class="calendar-legend">
                            <span><span class="legend-icon success">âœ…</span> Giorno riuscito</span>
                            <span><span class="legend-icon failed">âŒ</span> Ricaduta</span>
                            <span><span class="legend-icon future">â¬œ</span> Futuro</span>
                        </div>
                    </div>
                </div>
                
                <!-- Savings (if enabled) -->
                <div class="stats-section" id="savings-section" style="display: none;">
                    <h2 class="section-title">ğŸ’° Salvadanaio</h2>
                    <div class="savings-card">
                        <div class="savings-amount" id="savings-amount">â‚¬0</div>
                        <div class="savings-text">risparmiati in <span id="savings-days">0</span> giorni</div>
                        <div class="savings-examples" id="savings-examples">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>
                </div>
                
                <!-- Next Milestone -->
                <div class="stats-section">
                    <h2 class="section-title">ğŸ¯ Prossimo traguardo</h2>
                    <div class="milestone-card">
                        <div class="milestone-text" id="milestone-text">Continua cosÃ¬!</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                        </div>
                        <div class="progress-label" id="progress-label">0/3</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- COMMUNITY PAGE -->
        <div id="community-page" class="app-page" style="display: none;">
            <div class="community-container">
                <h1 class="page-title">ğŸŒŒ Non sei solo</h1>
                <p class="page-subtitle">Migliaia di persone stanno combattendo con te</p>
                
                <!-- Constellation Canvas -->
                <div class="constellation-section">
                    <canvas id="constellation-canvas" width="350" height="300"></canvas>
                    <div class="constellation-stats">
                        <div class="constellation-stat">
                            <span class="stat-number" id="community-count">â€”</span>
                            <span class="stat-label">Persone attive</span>
                        </div>
                    </div>
                </div>
                
                <!-- Global Stats -->
                <div class="stats-section">
                    <h2 class="section-title">ğŸ“Š Statistiche Globali</h2>
                    <div class="global-stats-grid">
                        <div class="global-stat-card">
                            <div class="global-stat-value" id="global-streak">â€”</div>
                            <div class="global-stat-label">Streak media</div>
                        </div>
                        <div class="global-stat-card">
                            <div class="global-stat-value" id="global-sos">â€”</div>
                            <div class="global-stat-label">SOS superati</div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Events -->
                <div class="stats-section">
                    <h2 class="section-title">âœ¨ Eventi recenti</h2>
                    <div class="events-feed" id="events-feed">
                        <div class="event-item">ğŸ’ª Qualcuno ha superato un momento SOS</div>
                        <div class="event-item">ğŸŒŸ Qualcuno Ã¨ appena evoluto!</div>
                        <div class="event-item">ğŸ”¥ Qualcuno ha raggiunto 30 giorni!</div>
                    </div>
                </div>
                
                <!-- Privacy Note -->
                <div class="community-privacy">
                    <p>ğŸ”’ Completamente anonimo. Nessun dato personale condiviso.</p>
                    <button class="btn-secondary" onclick="showPrivacy()">Privacy Policy</button>
                </div>
            </div>
        </div>
        
        <!-- SETTINGS PAGE -->
        <div id="settings-page" class="app-page" style="display: none;">
            <div class="settings-container">
                <h1 class="page-title">âš™ï¸ Impostazioni</h1>
                
                <!-- Personalization -->
                <div class="settings-section">
                    <h2 class="section-title">ğŸ“ Personalizzazione</h2>
                    
                    <div class="setting-item">
                        <label class="setting-label">Nome del compagno</label>
                        <div class="setting-input-group">
                            <input 
                                type="text" 
                                id="companion-name-setting" 
                                class="input-setting" 
                                placeholder="Dai un nome al tuo compagno"
                                maxlength="20"
                            />
                            <button class="btn-secondary" onclick="saveCompanionName()">Salva</button>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <button class="btn-secondary-full" onclick="changeCompanion()">
                            ğŸ¨ Cambia compagno
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <button class="btn-secondary-full" onclick="changeAddiction()">
                            ğŸ”„ Cambia dipendenza
                        </button>
                    </div>
                </div>
                
                <!-- Savings -->
                <div class="settings-section">
                    <h2 class="section-title">ğŸ’° Salvadanaio (opzionale)</h2>
                    <p class="section-description">Quanto spendevi al giorno per <span id="addiction-name-display">questa dipendenza</span>?</p>
                    
                    <div class="setting-item">
                        <div class="setting-input-group">
                            <span class="input-prefix">â‚¬</span>
                            <input 
                                type="number" 
                                id="daily-cost-setting" 
                                class="input-setting" 
                                placeholder="0.00"
                                min="0"
                                step="0.5"
                            />
                            <span class="input-suffix">al giorno</span>
                        </div>
                        <div class="setting-hint">
                            Esempi: Sigarette â‚¬5-8/giorno â€¢ Alcol â‚¬10-15/giorno
                        </div>
                        <button class="btn-secondary" onclick="saveDailyCost()">Salva</button>
                    </div>
                </div>
                
                <!-- Appearance -->
                <div class="settings-section">
                    <h2 class="section-title">ğŸ¨ Aspetto</h2>
                    
                    <div class="setting-item">
                        <label class="setting-label">ModalitÃ  Scura</label>
                        <div class="dark-mode-toggle">
                            <span id="dark-mode-label">Automatica</span>
                            <div class="dark-mode-switch" id="dark-mode-switch" onclick="toggleDarkMode()">
                                <div class="dark-mode-switch-toggle"></div>
                            </div>
                        </div>
                        <div class="auto-mode-indicator" id="auto-mode-indicator">
                            Si attiva automaticamente dalle 20:00 alle 7:00
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <label class="setting-label">Suoni Feedback</label>
                        <div class="dark-mode-toggle">
                            <span id="sounds-label">Disattivati</span>
                            <div class="dark-mode-switch" id="sounds-switch" onclick="toggleSounds()">
                                <div class="dark-mode-switch-toggle"></div>
                            </div>
                        </div>
                        <div class="setting-hint">
                            Suoni di conferma per check-in ed evoluzioni
                        </div>
                    </div>
                </div>
                
                <!-- Data -->
                <div class="settings-section">
                    <h2 class="section-title">ğŸ’¾ Dati</h2>
                    
                    <div class="setting-item">
                        <button class="btn-secondary-full" onclick="exportData()">
                            ğŸ“¥ Esporta i tuoi dati
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <button class="btn-danger-full" onclick="resetAll()">
                            ğŸ—‘ï¸ Resetta tutto
                        </button>
                    </div>
                </div>
                
                <!-- Info -->
                <div class="settings-section">
                    <h2 class="section-title">â„¹ï¸ Info</h2>
                    
                    <div class="setting-item">
                        <button class="btn-secondary-full" onclick="showPrivacy()">
                            ğŸ”’ Privacy & Dati
                        </button>
                    </div>
                    
                    <div class="version-info">
                        Streak Guardian v1.0 â€¢ Made with â¤ï¸
                    </div>
                </div>
            </div>
        </div>
        
        <!-- BOTTOM NAVIGATION -->
        <nav class="bottom-nav">
            <div class="bottom-nav-item active" data-page="home" onclick="navigateTo('home')">
                <div class="bottom-nav-icon">ğŸ </div>
                <div class="bottom-nav-label">Home</div>
            </div>
            <div class="bottom-nav-item" data-page="stats" onclick="navigateTo('stats')">
                <div class="bottom-nav-icon">ğŸ“Š</div>
                <div class="bottom-nav-label">Stats</div>
            </div>
            <div class="bottom-nav-item" data-page="community" onclick="navigateTo('community')">
                <div class="bottom-nav-icon">ğŸŒŒ</div>
                <div class="bottom-nav-label">Community</div>
            </div>
            <div class="bottom-nav-item" data-page="settings" onclick="navigateTo('settings')">
                <div class="bottom-nav-icon">âš™ï¸</div>
                <div class="bottom-nav-label">Settings</div>
            </div>
        </nav>
    </div>
    
    <!-- SOS OVERLAY -->
    <div id="sos-overlay" class="overlay" style="display: none;">
        <div class="overlay-content">
            <button class="overlay-close" onclick="closeSOS()">âœ•</button>
            
            <div class="sos-header">
                <div class="sos-header-icon">ğŸ«‚</div>
                <h2 class="sos-header-title">Respira</h2>
                <p class="sos-header-text">Sei al sicuro qui.</p>
            </div>
            
            <div class="sos-body">
                <p class="sos-message">
                    Il desiderio passerÃ . Di solito dura solo 5-10 minuti.
                </p>
                <p class="sos-question">Cosa vuoi fare adesso?</p>
                
                <div class="sos-options">
                    <button class="sos-option" onclick="sosCallFriend()">
                        <span class="sos-option-icon">ğŸ“±</span>
                        <span class="sos-option-text">Chiama un amico</span>
                    </button>
                    
                    <button class="sos-option" onclick="sosWalk()">
                        <span class="sos-option-icon">ğŸš¶</span>
                        <span class="sos-option-text">Esco a camminare</span>
                    </button>
                    
                    <button class="sos-option" onclick="sosWrite()">
                        <span class="sos-option-icon">âœï¸</span>
                        <span class="sos-option-text">Scrivo cosa sento</span>
                    </button>
                    
                    <button class="sos-option" onclick="sosTimer()">
                        <span class="sos-option-icon">â±ï¸</span>
                        <span class="sos-option-text">Timer 5 minuti</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- EVOLUTION CELEBRATION OVERLAY -->
    <div id="evolution-overlay" class="overlay celebration-overlay" style="display: none;">
        <div class="confetti" id="confetti"></div>
        <div class="evolution-content">
            <h1 class="celebration-title">ğŸ‰ EVOLUZIONE! ğŸ‰</h1>
            <div class="emoji-transform">
                <span class="old-emoji" id="old-emoji">ğŸŒ±</span>
                <span class="arrow">â†’</span>
                <span class="new-emoji" id="new-emoji">ğŸŒ¿</span>
            </div>
            <p class="celebration-message" id="evolution-message">Il tuo compagno Ã¨ cresciuto!</p>
            <p class="celebration-submessage" id="evolution-submessage">Continua cosÃ¬! ğŸ’ª</p>
            <button class="btn-celebration" onclick="closeEvolution()">Continua il viaggio â†’</button>
        </div>
    </div>
    
    <!-- TOAST NOTIFICATIONS -->
    <div id="toast-container"></div>
    
    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/companion.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/community.js"></script>
    <script src="js/app.js"></script>
    
</body>
</html>
